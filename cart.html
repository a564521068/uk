<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=640, user-scalable=no" />
    <title>购物车</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/app.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
	<header class="container">
		<div class="row">
			<div class="col-xs-2" onclick="history.back();"><a href="#" class="tbar"><img src="images/fanhui.png" alt=""></a></div>
			<div class="col-xs-8">
				<div class="title">购物车</div>
			</div>
			<div class="col-xs-2"></div>
		</div>
	</header>
  <div id="cart">
    <div class="container">
      <div class="row">
        <dl cart_id="1">
          <div class="box">
            <dt><input id="good_id" type="checkbox" name="good_id" class="checkbox" checked="checked"><span class="dd">订单号：2016032689</span><span class="time">2016-03-15 11：30</span></dt>
            <dd>
              <a href="#" class="cart_good"><img src="images/car_good_1.jpg" alt=""></a>
              <div class="text">
                <h5>小米电视3 55英寸4K智能平板液晶电视机</h5>
                <del>市场价:  ￡900镑</del>
                <div class="price"><span class="left">会员价:  <em>￡<em class="prrice">800</em>镑</em></span><span class="right">数量：<span class="num">1</span></span></div>
              </div>
            </dd>
          </div>
        </dl>
        <dl cart_id="2">
          <div class="box">
            <dt><input id="good_id" type="checkbox" name="good_id" class="checkbox" checked="checked"><span class="dd">订单号：2016032689</span><span class="time">2016-03-15 11：30</span></dt>
            <dd>
              <a href="#" class="cart_good"><img src="images/car_good_1.jpg" alt=""></a>
              <div class="text">
                <h5>小米电视3 55英寸4K智能平板液晶电视机</h5>
                <del>市场价:  ￡900镑</del>
              <div class="price"><span class="left">会员价:  <em>￡<em class="prrice">800</em>镑</em></span><span class="right">数量：<span class="num">1</span></span></div>
              </div>
            </dd>
          </div>
        </dl>
        <dl cart_id="3">
          <div class="box">
            <dt><input id="good_id" type="checkbox" name="good_id" class="checkbox" checked="checked"><span class="dd">订单号：2016032689</span><span class="time">2016-03-15 11：30</span></dt>
            <dd>
              <a href="#" class="cart_good"><img src="images/car_good_1.jpg" alt=""></a>
              <div class="text">
                <h5>小米电视3 55英寸4K智能平板液晶电视机</h5>
                <del>市场价:  ￡900镑</del>
              <div class="price"><span class="left">会员价:  <em>￡<em class="prrice">800</em>镑</em></span><span class="right">数量：<span class="num">1</span></span></div>
              </div>
            </dd>
          </div>
        </dl>
      </div>
    </div>
  </div>
  <div id="cart_bottom">
    <div class="select_all"><input type="checkbox" name="check_all" class="check_all"  id="check_all" checked="checked"><label for="check_all">全选</label></div>
    <div class="heji">合计：<span>￡<em class="tot_price">800</em>镑</span></div>
    <a href="order_confirm.html" class="pay_it">去支付</a>
  </div>
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script>
   $('input[name="good_id"]').click(function(){
        calculateTotalPrice();
    });
    function calculateTotalPrice() {
        var totalPrice = parseFloat("0.00");
        $('#cart dl').each(function(){
            if ($(this).find('input[name="good_id"]').prop('checked')) {
                totalPrice += parseFloat($(this).find('.prrice').html()) * parseInt($(this).find('.num').html());
            }
        });
        $('.tot_price').html(totalPrice.toFixed(2));
        return true;
      }
    $('.check_all').click(function(){
      if($(this).prop('checked')){
        $('#cart dl input[name="good_id"]').each(function(){
          $(this).prop("checked",true);
          calculateTotalPrice();
        });
      }
      else{
        $('#cart dl input[name="good_id"]').each(function(){
            if($(this).prop('checked')){
              $(this).prop("checked",false);
            }
            else{
              $(this).prop("checked",true);
            }
        });
        calculateTotalPrice();
      }
    });
  </script>
  </body>
</html>